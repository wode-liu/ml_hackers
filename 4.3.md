## 写优先邮件箱程序
迄今为止你会注意到一个趋势：在接触机器学习最劲爆的部分之前，我们要着手把数据分割，拉取，并将其解析直至其格式适用于我们的分析。目前，我们在这个过程中只经受了一点折磨。为了构造垃圾邮件分类器，我们只需简单的提取邮件正文，然后让tm包做剩下的工作。然而在这个练习中，我们在数据集中增加了一些其它特征，而且还增加了一个临时维度，这些使这个过程更加复杂了。同样地，我们也就不得不在数据上做更多的工作。但是我们是黑客，我们就是喜欢与数据水乳交融啊！  

在这个练习中，我们将会把注意力集中于那些SpamAssassin中的有用的邮件。与之前的垃圾邮件分类练习不同，我们在这里并不考虑邮件的类型，而是要考虑邮件是怎样以优先级排列的。因此，我们只使用最大的简单有用邮件数据集，就不考虑其它类型数据了。由于我们可以放心假设当一个用户决定哪些邮件有更高的优先级时不会和只去鉴别哪些邮件是有用一样，因此将这样的信息带进我们的排名系统中就没有什么意义了。我们想要尽可能的了解从一个用户的邮件中得到特征集，这也就是为什么我们要使用简单的有用邮件数据集。  
	
	library(tm)
	library(ggplot2)

	data.path <- "../../03-Classification/code/data/"
	easyham.path <- paste(data.path, "easy_ham/", sep="")

与第三章中差不多，我们在这个练习中用到的的包只有为从邮件主题和内容中提取公共措辞的tm，和为了将结果视觉化的ggplot2.此外，由于SpamAssassin公共语料库是一个相对较大的文本数据集，我们在这一章就不会在*data/*文件夹中再复制一遍了，而是会将数据的相对路径设置为第三章中文件的位置。  

下一步，我们会创建一系列的函数，这些函数将会合作将每一封邮件解析成例4-1中总结的特征集。从这个图表中可以看出我们需要从每个邮件消息中提取四个元素：发件人地址，接收时间，主题和消息内容。  